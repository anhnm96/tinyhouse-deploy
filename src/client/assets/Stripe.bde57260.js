import{d as e,u as a,f as s,k as t,o,i as n,j as r,l as i,aa as c}from"./vendor.f6cb48f4.js";import{s as u,v as l,c as d}from"./index.da3c834b.js";import{a as p}from"./index.c2480ec4.js";var f=e({name:"PageStripe",setup(){const e=s(),t=new URL(window.location.href).searchParams.get("code"),{mutate:o,loading:n,onError:r,onDone:i}=a(d,{variables:{input:{code:t}}});return t?o():e.replace("/login"),i((a=>{u({hasWallet:a.data.connectStripe.hasWallet}),p("You 've successfully connected your Stripe Account!","You can now begin to create listings in the Host page."),e.push(`/user/${l.id}`)})),r((()=>{e.push(`/user/${l.id}?stripe_error=true`)})),{loading:n}}});f.render=function(e,a,s,u,l,d){const p=t("a-spin"),f=t("a-layout-content");return e.loading?(o(),n(f,{key:0,class:"stripe"},{default:r((()=>[i(p,{size:"large",tip:"Connecting your stripe account..."})])),_:1})):c("",!0)};export default f;
