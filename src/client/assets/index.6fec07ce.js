import{k as t,o as e,i,l as s,j as a,d as l,m as r,e as n,a2 as o,a3 as g,h as d,F as u,a1 as c}from"./vendor.f6cb48f4.js";import{L as f}from"./globalTypes.4ad4b672.js";import{L as p}from"./index.da3c834b.js";import{u as m}from"./useVModel.443a5019.js";import{_}from"./ListingCard.fe5ed947.js";import"./index.c2480ec4.js";const h={name:"ListingsSkeleton"},L=s("div",{class:"listings-skeleton__card-cover-img",style:{"background-image":"url(/src/assets/listing-loading-card-cover.jpg)"}},null,-1);h.render=function(l,r,n,o,g,d){const u=t("a-skeleton"),c=t("a-card"),f=t("a-list-item"),p=t("a-list");return e(),i("div",null,[s(u,{paragraph:{rows:1}}),s(p,{grid:{gutter:8,xs:1,sm:2,lg:4},"data-source":[{},{},{},{},{},{},{},{}]},{renderItem:a((()=>[s(f,null,{default:a((()=>[s(c,{loading:""},{cover:a((()=>[L])),_:1})])),_:1})])),_:1})])};var v=l({name:"ListingsFilters",props:{filter:String},emits:["update:filter"],setup:t=>({filterLocal:m(t,"filter"),ListingsFilter:f})});const y={class:"listings-filters"},k=s("span",null,"Filter By",-1),I=r(" Price: Low to High "),F=r(" Price: High to Low ");v.render=function(l,r,n,o,g,d){const u=t("a-select-option"),c=t("a-select");return e(),i("div",y,[k,s(c,{value:l.filterLocal,"onUpdate:value":r[1]||(r[1]=t=>l.filterLocal=t)},{default:a((()=>[s(u,{value:l.ListingsFilter.PRICE_LOW_TO_HIGH},{default:a((()=>[I])),_:1},8,["value"]),s(u,{value:l.ListingsFilter.PRICE_HIGH_TO_LOW},{default:a((()=>[F])),_:1},8,["value"])])),_:1},8,["value"])])};var j=l({name:"PageListings",components:{ListingsSkeleton:h,ListingsFilters:v,ListingCard:_},setup(){const t=d(),e=n(t.params.location),i=n(f.PRICE_LOW_TO_HIGH),s=n(1),{result:a,loading:l,error:r}=o(p,{filter:i,location:e,limit:8,page:s});return{filter:i,location:e,page:s,limit:8,listings:g(a),loading:l,error:r,ListingsFilter:f}}});const x={key:0},H={key:1},P=r(" It appears that no listings have been created for "),b=r(" Be the first person to create aÂ  "),w=r(" listing in this area! ");j.render=function(l,n,o,g,d,f){const p=t("ListingsSkeleton"),m=t("ErrorBanner"),_=t("a-typography-title"),h=t("a-pagination"),L=t("ListingsFilters"),v=t("a-affix"),y=t("ListingCard"),k=t("a-list-item"),I=t("a-list"),F=t("a-typography-text"),j=t("a-typography-paragraph"),C=t("router-link"),O=t("a-layout-content");return e(),i(O,{class:"listings"},{default:a((()=>[l.loading?(e(),i(p,{key:0})):l.error?(e(),i(u,{key:1},[s(m,{description:"We either couldn't find anything matching your search or the Geocoding API's quota may have exceeded. Try searching again with empty keyword."}),s(p)],64)):(e(),i(u,{key:2},[s(_,{level:3,class:"listings__title"},{default:a((()=>[r(' Results for "'+c(l.listings.region||"all listings")+'" ',1)])),_:1}),l.listings.result.length>0?(e(),i("div",x,[s(v,{"offset-top":64},{default:a((()=>[s(h,{current:l.page,"onUpdate:current":n[1]||(n[1]=t=>l.page=t),"default-page-size":l.limit,total:l.listings.total,"hide-on-single-page":"","show-less-items":"",class:"listings-pagination"},null,8,["current","default-page-size","total"]),s(L,{filter:l.filter,"onUpdate:filter":n[2]||(n[2]=t=>l.filter=t)},null,8,["filter"])])),_:1}),s(I,{grid:{gutter:8,lg:4,sm:2,xs:1},"data-source":l.listings.result},{renderItem:a((({item:t})=>[s(k,null,{default:a((()=>[s(y,{listing:t},null,8,["listing"])])),_:2},1024)])),_:1},8,["data-source"])])):(e(),i("div",H,[s(j,null,{default:a((()=>[P,s(F,{mark:""},{default:a((()=>[r(c(l.listingsRegion),1)])),_:1})])),_:1}),s(j,null,{default:a((()=>[b,s(C,{to:"/host"},{default:a((()=>[w])),_:1})])),_:1})]))],64))])),_:1})};export default j;
