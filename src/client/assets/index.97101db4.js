import{l as t,o as e,j as i,m as a,k as s,e as l,n as r,f as n,a2 as o,a3 as g,i as u,F as d,a1 as f}from"./vendor.1cb7f2f0.js";import{L as c}from"./globalTypes.4ad4b672.js";import{L as p}from"./index.f7adef75.js";import{u as m}from"./useVModel.7626bf3e.js";import{_}from"./ListingCard.8d34f804.js";const L={name:"ListingsSkeleton"},h=a("div",{class:"listings-skeleton__card-cover-img",style:{"background-image":"url(/src/assets/listing-loading-card-cover.jpg)"}},null,-1);L.render=function(l,r,n,o,g,u){const d=t("a-skeleton"),f=t("a-card"),c=t("a-list-item"),p=t("a-list");return e(),i("div",null,[a(d,{paragraph:{rows:1}}),a(p,{grid:{gutter:8,xs:1,sm:2,lg:4},"data-source":[{},{},{},{},{},{},{},{}]},{renderItem:s((()=>[a(c,null,{default:s((()=>[a(f,{loading:""},{cover:s((()=>[h])),_:1})])),_:1})])),_:1})])};var v=l({name:"ListingsFilters",props:{filter:String},emits:["update:filter"],setup:t=>({filterLocal:m(t,"filter"),ListingsFilter:c})});const y={class:"listings-filters"},k=a("span",null,"Filter By",-1),I=r(" Price: Low to High "),F=r(" Price: High to Low ");v.render=function(l,r,n,o,g,u){const d=t("a-select-option"),f=t("a-select");return e(),i("div",y,[k,a(f,{value:l.filterLocal,"onUpdate:value":r[1]||(r[1]=t=>l.filterLocal=t)},{default:s((()=>[a(d,{value:l.ListingsFilter.PRICE_LOW_TO_HIGH},{default:s((()=>[I])),_:1},8,["value"]),a(d,{value:l.ListingsFilter.PRICE_HIGH_TO_LOW},{default:s((()=>[F])),_:1},8,["value"])])),_:1},8,["value"])])};var H=l({name:"PageListings",components:{ListingsSkeleton:L,ListingsFilters:v,ListingCard:_},setup(){const t=u(),e=n(t.params.location),i=n(c.PRICE_LOW_TO_HIGH),a=n(1),{result:s,loading:l,error:r}=o(p,{filter:i,location:e,limit:4,page:a});return{filter:i,location:e,page:a,limit:4,listings:g(s),loading:l,error:r,ListingsFilter:c}}});const j={key:0},w={key:1},b=r(" It appears that no listings have been created for "),x=r(" Be the first person to create aÂ  "),C=r(" listing in this area! ");H.render=function(l,n,o,g,u,c){const p=t("ListingsSkeleton"),m=t("ErrorBanner"),_=t("a-typography-title"),L=t("a-pagination"),h=t("ListingsFilters"),v=t("a-affix"),y=t("ListingCard"),k=t("a-list-item"),I=t("a-list"),F=t("a-typography-text"),H=t("a-typography-paragraph"),O=t("router-link"),P=t("a-layout-content");return e(),i(P,{class:"listings"},{default:s((()=>[l.loading?(e(),i(p,{key:0})):l.error?(e(),i(d,{key:1},[a(m,{description:"We either couldn't find anything matching your search or we've encountered an error. If you're searching for a unique location, try searching again with more common keywords."}),a(p)],64)):(e(),i(d,{key:2},[a(_,{level:3,class:"listings__title"},{default:s((()=>[r(' Results for "'+f(l.listings.region)+'" ',1)])),_:1}),l.listings.result.length>0?(e(),i("div",j,[a(v,{"offset-top":64},{default:s((()=>[a(L,{current:l.page,"onUpdate:current":n[1]||(n[1]=t=>l.page=t),"default-page-size":l.limit,total:l.listings.total,"hide-on-single-page":"","show-less-items":"",class:"listings-pagination"},null,8,["current","default-page-size","total"]),a(h,{filter:l.filter,"onUpdate:filter":n[2]||(n[2]=t=>l.filter=t)},null,8,["filter"])])),_:1}),a(I,{grid:{gutter:8,lg:4,sm:2,xs:1},"data-source":l.listings.result},{renderItem:s((({item:t})=>[a(k,null,{default:s((()=>[a(y,{listing:t},null,8,["listing"])])),_:2},1024)])),_:1},8,["data-source"])])):(e(),i("div",w,[a(H,null,{default:s((()=>[b,a(F,{mark:""},{default:s((()=>[r(f(l.listingsRegion),1)])),_:1})])),_:1}),a(H,null,{default:s((()=>[x,a(O,{to:"/host"},{default:s((()=>[C])),_:1})])),_:1})]))],64))])),_:1})};export default H;
